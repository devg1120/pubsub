import { PubSub } from './pubsub-js/index.js';

let pubsub = new PubSub();


document.getElementById('message-input').addEventListener('input', ev => {
  pubsub.publish('input:message', ev.target.value);
});

pubsub.subscribe('input:message', args => {
  const target = document.getElementById('reactive-message');
  target.innerHTML = args;
});


document.getElementById('message-input2').addEventListener('input', ev => {
  pubsub.publish('input:message', ev.target.value);
});

pubsub.subscribe('input:message', args => {
  const target = document.getElementById('reactive-message2');
  target.innerHTML = args;
});



function get_input_value(id) {
var ele = document.querySelector(id);
  return ele.value

}

var submit = document.querySelector('#submit');

submit.addEventListener('click', function(event) {
    console.log("submit");
    let p_id   = get_input_value("#p-id");
    let p_name = get_input_value("#p-name");
    let p_age  = get_input_value("#p-age");
    let p_bday = get_input_value("#p-bday");
    console.log("Parent", p_id, p_name, p_age, p_bday);
    let c_id   = get_input_value("#c-1-id");
    let c_name = get_input_value("#c-1-name");
    let c_age  = get_input_value("#c-1-age");
    let c_bday = get_input_value("#c-1-bday");
    console.log("Child", c_id, c_name, c_age, c_bday);
});


